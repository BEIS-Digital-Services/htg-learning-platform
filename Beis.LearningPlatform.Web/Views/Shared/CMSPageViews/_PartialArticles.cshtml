@model (Beis.LearningPlatform.Web.StrapiApi.Models.CMSPageComponent component, int componentIndex)
@{
    var _pipeline = new MarkdownPipelineBuilder().UseAdvancedExtensions().UseBootstrap().Build();
    var strcopy = "";
    var item = Model.component;
    var strTopLineBg = "";

}

<div class="articles" id="@("anchor" + Model.componentIndex)">
    <div class="govuk-width-container govuk-!-padding-bottom-8">
        <div class="govuk-grid-column-one-third">
            @{
                strTopLineBg = (!string.IsNullOrWhiteSpace(Model.component.Column1.backgroundColor)) ? CamelCaseConverter.Delimiter(Model.component.Column1.backgroundColor, "-") : "";
            }

            <div class="top-line @strTopLineBg"></div>
            @if (item.Image1 != null)
            {
                <vc:cms-image options='new CmsImageViewModel{ ImageUrl = item.Image1.url, CssClass = "hero-mobile-image", Title = item.Image1.alternativeText }' />
            }

            @if (!string.IsNullOrWhiteSpace(item.Column1.subheader))
            {
                <h2 class="govuk-heading-l govuk-!-padding-top-3">@item.Column1.subheader</h2>
            }
            @{
                strcopy = Markdown.ToHtml(item.Column1.copy, _pipeline).Replace("<p>", "<p class=\"govuk-body\"  style=\"text-align:left;\">");
            }
            @Html.Raw(strcopy)
            <partial name="CMSPageViews/_PartialTextLinks" model="@Model.component.Links1" />
            <partial name="CMSPageViews/_PartialTag" model="@Model.component.Tags1" />
        </div>

        @{
            strTopLineBg = (!string.IsNullOrWhiteSpace(Model.component.Column2.backgroundColor)) ? CamelCaseConverter.Delimiter(Model.component.Column2.backgroundColor, "-") : "";
        }
        <div class="govuk-grid-column-one-third">
            <div class="top-line @strTopLineBg"></div>
            @if (item.Image2 != null)
            {
                <vc:cms-image options='new CmsImageViewModel{ ImageUrl = Model.component.Image2.url, CssClass = "hero-mobile-image", Title = item.Image2.alternativeText }' />
            }

            @if (!string.IsNullOrWhiteSpace(item.Column2.subheader))
            {
                <h2 class="govuk-heading-l govuk-!-padding-top-3">@item.Column2.subheader</h2>
            }
            @{
                strcopy = Markdown.ToHtml(item.Column2.copy, _pipeline).Replace("<p>", "<p class=\"govuk-body\" style=\"text-align:left;\">");
            }
            @Html.Raw(strcopy)
            <partial name="CMSPageViews/_PartialTextLinks" model="@Model.component.Links2" />
            <partial name="CMSPageViews/_PartialTag" model="@Model.component.Tags2" />
        </div>

        @{
            strTopLineBg = (!string.IsNullOrWhiteSpace(Model.component.Column3.backgroundColor)) ? CamelCaseConverter.Delimiter(Model.component.Column3.backgroundColor, "-") : "";
        }
        <div class="govuk-grid-column-one-third">
            <div class="top-line @strTopLineBg"></div>
            @if (item.Image3 != null)
            {
                <vc:cms-image options='new CmsImageViewModel{ ImageUrl = Model.component.Image3.url, CssClass = "hero-mobile-image", Title = item.Image3.alternativeText }' />
            }

            @if (!string.IsNullOrWhiteSpace(item.Column3.subheader))
            {
                <h2 class="govuk-heading-l govuk-!-padding-top-3">@item.Column3.subheader</h2>
            }
            @{
                strcopy = Markdown.ToHtml(item.Column2.copy, _pipeline).Replace("<p>", "<p class=\"govuk-body\" style=\"text-align:left;\">");
            }
            @Html.Raw(strcopy)
            <partial name="CMSPageViews/_PartialTextLinks" model="@Model.component.Links3" />
            <partial name="CMSPageViews/_PartialTag" model="@Model.component.Tags3" />
        </div>
    </div>
</div>