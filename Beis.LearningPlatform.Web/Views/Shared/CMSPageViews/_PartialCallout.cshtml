@model (Beis.LearningPlatform.Web.StrapiApi.Models.CMSPageComponent component, int componentIndex)
@{
    var _pipeline = new MarkdownPipelineBuilder().UseAdvancedExtensions().UseBootstrap().Build();
    var strComponentBg = (!string.IsNullOrWhiteSpace(Model.component.background)) ? CamelCaseConverter.Delimiter(Model.component.background, "-") : "";
}

<div class="call-out" id="@("anchor" + Model.componentIndex)">
    <div class="govuk-width-container govuk-!-padding-top-6 govuk-!-padding-bottom-6">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <div class="govuk-inset-text @strComponentBg">
                    @if (Model.component.textblocks != null)
                    {
                        foreach (var textblock in Model.component.textblocks)
                        {
                            textblock.hide = textblock.hide.HasValue ? textblock.hide : false;

                            if (textblock.hide == false)
                            {
                                @if (!string.IsNullOrWhiteSpace(textblock.copy))
                                {
                                    @Html.Raw("<div class=\"markdown\">" + Markdown.ToHtml(textblock.copy, _pipeline) + "</div>")
                                }

                                <partial name="CMSPageViews/_PartialTextLinks" model="@Model.component.links" />
                            }
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>