@model CmsSearchArticleListingViewModel

<div class="govuk-width-container filter-list">
    <div class="details">
        <details class="govuk-details" data-module="govuk-details" open>
            <summary class="govuk-details__summary">
                <h3 class="govuk-heading-l govuk-!-padding-top-5 govuk-!-margin-bottom-1">Filters</h3>
                <div class="beis-underline"></div>
            </summary>

            <form method="get">
    
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s govuk-!-margin-bottom-4">Filter by subject</legend>
                

                @{
                    var distinctTags = Model.DistinctTags.ToList();
                }

                    @for (int i = 0; i < distinctTags.Count; i++)
                    {
                    var tag = distinctTags[i];
                    
                    <div class="govuk-grid-row ">
                        <div class="govuk-grid-column-one-half govuk-!-margin-bottom-2">
                            <div class="govuk-checkboxes__item">
                                <input class="govuk-checkboxes__input" id="filter-tag-@tag.id" type="checkbox" value="@tag.id" name="tag-ids" checked="@(Model.IsTagSelected(tag))" >
                                <label class="govuk-label govuk-checkboxes__label" for="filter-tag-@tag.id">
                                    @tag.displayName
                                </label>
                            </div>
                            </div>

                        @{
                            i++;
                            if(i >= distinctTags.Count)
                            {
                                break;
                            }
                            tag = distinctTags[i];
                        }
                        <div class="govuk-grid-column-one-half govuk-!-margin-bottom-2">
                        <div class="govuk-checkboxes__item">
                            <input class="govuk-checkboxes__input" id="filter-tag-@tag.id" type="checkbox" value="@tag.id" name="tag-ids" checked="@(Model.IsTagSelected(tag))" >
                            <label class="govuk-label govuk-checkboxes__label" for="filter-tag-@tag.id">
                                @tag.displayName
                            </label>
                        </div>  
                        </div>

                    </div>
                    
                    }

                  </fieldset>  
                
                <div class="govuk-!-margin-top-6 govuk-!-margin-bottom-6">
                    <div class="govuk-button-group">
                        <button type="submit" class="govuk-button primary">Apply filters</button>
                        <a type="button" aria-label="Reset filters" role="button" href="@Model.PageName"
                            class="govuk-button secondary" data-module="govuk-button">
                            Reset filters
                        </a>
                    </div>
                </div>

                <hr class="govuk-section-break govuk-section-break--visible">
            </form>
        </details>
    </div>
 </div>

<div class="landingpage-hero-list" id="@Model.Component.id">
    <div class="govuk-width-container govuk-!-margin-bottom-6 govuk-!-margin-top-6 search-article-listing">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <div class="govuk-grid-row beis-columns-same-height">
                    <div class="govuk-grid-column-full">
                        <h2 class="govuk-heading-l govuk-!-padding-top-3 govuk-!-margin-bottom-2">@Model.Header</h2>
                        <div class="top-line beis-yellow govuk-!-padding-top-2 govuk-!-margin-bottom-2"></div>
                    </div>
                </div>
                @foreach (var article in Model.FullSearchArticles)
                {
                    <vc:full-search-article full-search-article="@article" />
                }
            </div>
            
        </div>
    </div>